CREATE TABLE IF NOT EXISTS `match` (
	id INT AUTO_INCREMENT PRIMARY KEY,
	home_team_id INT,
	home_team_score TINYINT UNSIGNED,
	away_team_id INT,
	away_team_score TINYINT UNSIGNED,
	home_team_first_leg_score TINYINT UNSIGNED,
	away_team_first_leg_score TINYINT UNSIGNED,
	tournament_id INT NOT NULL,
	match_date DATE,
	match_time TIME,
	match_order SMALLINT UNSIGNED,
	bracket_order TINYINT UNSIGNED,
	waiting_home_team VARCHAR(255),
	waiting_away_team VARCHAR(255),
	home_team_extra_time_score TINYINT UNSIGNED,
	away_team_extra_time_score TINYINT UNSIGNED,
	home_team_penalty_score TINYINT UNSIGNED,
	away_team_penalty_score TINYINT UNSIGNED,
	round_id INT,
	round_order TINYINT UNSIGNED,
	stage_id INT,
	stage_order TINYINT UNSIGNED,
	group_id INT,
	home_retired TINYINT UNSIGNED,
	away_retired TINYINT UNSIGNED,
	home_set1_score TINYINT UNSIGNED,
	away_set1_score TINYINT UNSIGNED,
	home_set1_tiebreak TINYINT UNSIGNED,
	away_set1_tiebreak TINYINT UNSIGNED,
	home_set2_score TINYINT UNSIGNED,
	away_set2_score TINYINT UNSIGNED,
	home_set2_tiebreak TINYINT UNSIGNED,
	away_set2_tiebreak TINYINT UNSIGNED,
	home_set3_score TINYINT UNSIGNED,
	away_set3_score TINYINT UNSIGNED,
	home_set3_tiebreak TINYINT UNSIGNED,
	away_set3_tiebreak TINYINT UNSIGNED,
	home_set4_score TINYINT UNSIGNED,
	away_set4_score TINYINT UNSIGNED,
	home_set4_tiebreak TINYINT UNSIGNED,
	away_set4_tiebreak TINYINT UNSIGNED,
	home_set5_score TINYINT UNSIGNED,
	away_set5_score TINYINT UNSIGNED,
	home_set5_tiebreak TINYINT UNSIGNED,
	away_set5_tiebreak TINYINT UNSIGNED,
	FOREIGN KEY (home_team_id) REFERENCES team(id),
	FOREIGN KEY (away_team_id) REFERENCES team(id),
	FOREIGN KEY (tournament_id) REFERENCES tournament(id),
	FOREIGN KEY (round_id) REFERENCES `group`(id),
	FOREIGN KEY (stage_id) REFERENCES `group`(id),
	FOREIGN KEY (group_id) REFERENCES `group`(id)
);

# Rio 2016
INSERT INTO `match` (home_team_id, home_team_score, away_team_id, away_team_score, tournament_id, match_date, match_time, match_order, round_id, stage_id)
VALUES (853, 1, 854, 0, 33, '2016-08-03', '130000', 1, 41, 39),
	(855, 2, 857, 0, 33, '2016-08-03', '150000', 2, 41, 39),
	(851, 3, 852, 0, 33, '2016-08-03', '160000', 3, 41, 39),
	(858, 1, 856, 6, 33, '2016-08-03', '180000', 4, 41, 39),
	(859, 2, 861, 0, 33, '2016-08-03', '190000', 5, 41, 39),
	(860, 4, 862, 0, 33, '2016-08-03', '220000', 6, 41, 39),
	(855, 3, 858, 1, 33, '2016-08-06', '150000', 7, 41, 39),
	(859, 1, 860, 0, 33, '2016-08-06', '170000', 8, 41, 39),
	(856, 2, 857, 2, 33, '2016-08-06', '180000', 9, 41, 39),
	(854, 0, 852, 2, 33, '2016-08-06', '190000', 10, 41, 39),
	(862, 0, 861, 1, 33, '2016-08-06', '200000', 11, 41, 39),
	(851, 5, 853, 1, 33, '2016-08-06', '220000', 12, 41, 39),
	(857, 6, 858, 1, 33, '2016-08-09', '160000', 13, 41, 39),
	(856, 1, 855, 2, 33, '2016-08-09', '160000', 14, 41, 39),
	(862, 2, 859, 2, 33, '2016-08-09', '180000', 15, 41, 39),
	(861, 0, 860, 3, 33, '2016-08-09', '190000', 16, 41, 39),
	(854, 0, 851, 0, 33, '2016-08-09', '210000', 17, 41, 39),
	(852, 0, 853, 0, 33, '2016-08-09', '220000', 18, 41, 39);

INSERT INTO `match` (home_team_id, home_team_score, home_team_extra_time_score, home_team_penalty_score,
					 away_team_id, away_team_score, away_team_extra_time_score, away_team_penalty_score,
					 tournament_id, match_date, match_time, match_order, round_id, stage_id, bracket_order)
VALUES	(859, 1, 0, 3, 853, 1, 0, 4, 33, '2016-08-12', '130000', 19, 43, 40, 20),
		  (852, 0, null, null, 856, 1, null, null, 33, '2016-08-12', '160000', 20, 43, 40, 22),
		  (855, 1, null, null, 860, 0, null, null, 33, '2016-08-12', '190000', 21, 43, 40, 21),
		  (851, 0, 0, 7, 857, 0, 0, 6, 33, '2016-08-12', '220000', 22, 43, 40, 19),
		  (851, 0, 0, 3, 853, 0, 0, 4, 33, '2016-08-16', '130000', 23, 44, 40, 23),
		  (855, 0, null, null, 856, 2, null, null, 33, '2016-08-16', '160000', 24, 44, 40, 24),
		  (851, 1, null, null, 855, 2, null, null, 33, '2016-08-19', '130000', 25, 132, 40, 26),
		  (853, 1, null, null, 856, 2, null, null, 33, '2016-08-19', '173000', 26, 133, 40, 25);
